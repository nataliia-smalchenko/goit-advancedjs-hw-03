{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_ZFQVP9BYXDyskIBsbQCvWyd3nxarCIc8p7wrGzBJCYWWt7kcFWPgUmGZdnFN782B';\n\nfunction fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds');\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst elements = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nelements.breedSelect.addEventListener('input', showCatInfo);\n\nfetchBreeds()\n  .then(response => {\n    elements.breedSelect.innerHTML = createSelectMarkup(response.data);\n    elements.breedSelect.classList.remove('visually-hidden');\n    elements.loader.classList.add('visually-hidden');\n  })\n  .catch(() => {\n    elements.loader.classList.add('visually-hidden');\n    iziToast.show({\n      messageColor: '#fafafa',\n      backgroundColor: '#f56c6c',\n      messageSize: '18px',\n      position: 'bottomLeft',\n      progressBar: false,\n      animateInside: false,\n      transitionIn: 'fadeIn',\n      transitionOut: 'fadeOut',\n      timeout: 3000,\n      targetFirst: false,\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n  });\n\nfunction showCatInfo(evt) {\n  const select = evt.currentTarget;\n  elements.loader.classList.remove('visually-hidden');\n  elements.catInfo.innerHTML = '';\n  fetchCatByBreed(select.value)\n    .then(response => {\n      elements.loader.classList.add('visually-hidden');\n      console.log(response.data);\n      elements.catInfo.innerHTML = createInfoMarkup(response.data);\n    })\n    .catch(() => {\n      elements.loader.classList.add('visually-hidden');\n      iziToast.show({\n        messageColor: '#fafafa',\n        backgroundColor: '#f56c6c',\n        messageSize: '18px',\n        position: 'bottomLeft',\n        progressBar: false,\n        animateInside: false,\n        transitionIn: 'fadeIn',\n        transitionOut: 'fadeOut',\n        timeout: 3000,\n        targetFirst: false,\n        message: 'Oops! Something went wrong! Try choose another option!',\n      });\n    });\n}\n\nfunction createSelectMarkup(breeds) {\n  return '<option value=\"0\" disabled selected>Choose breed</option>'.concat(\n    breeds\n      .map(breed => {\n        return `<option value=\"${breed.id}\">${breed.name}</option>`;\n      })\n      .join('')\n  );\n}\n\nfunction createInfoMarkup(data) {\n  const breed = data[0].breeds[0];\n  const breedImg = data[0];\n  return `\n      <img src=\"${breedImg.url}\" alt=\"${breed.name}\" width=500px height=${\n    (breedImg.height * 500) / breedImg.width\n  }/>\n      <div>\n      <h2>${breed.name}</h2>\n      <p>${breed.description}</p>\n      <p><b>Temperament: </b>${breed.temperament}</p>\n      </div>`;\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","elements","showCatInfo","response","createSelectMarkup","iziToast","evt","select","createInfoMarkup","breeds","breed","data","breedImg"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,qCAAqC,CACxD,CAEA,SAASE,EAAgBC,EAAS,CAChC,OAAOH,EAAM,IACX,wDAAwDG,GAC5D,CACA,CCTA,MAAMC,EAAW,CACf,YAAa,SAAS,cAAc,eAAe,EACnD,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAS,YAAY,iBAAiB,QAASC,CAAW,EAE1DJ,EAAa,EACV,KAAKK,GAAY,CAChBF,EAAS,YAAY,UAAYG,EAAmBD,EAAS,IAAI,EACjEF,EAAS,YAAY,UAAU,OAAO,iBAAiB,EACvDA,EAAS,OAAO,UAAU,IAAI,iBAAiB,CACnD,CAAG,EACA,MAAM,IAAM,CACXA,EAAS,OAAO,UAAU,IAAI,iBAAiB,EAC/CI,EAAS,KAAK,CACZ,aAAc,UACd,gBAAiB,UACjB,YAAa,OACb,SAAU,aACV,YAAa,GACb,cAAe,GACf,aAAc,SACd,cAAe,UACf,QAAS,IACT,YAAa,GACb,QAAS,qDACf,CAAK,CACL,CAAG,EAEH,SAASH,EAAYI,EAAK,CACxB,MAAMC,EAASD,EAAI,cACnBL,EAAS,OAAO,UAAU,OAAO,iBAAiB,EAClDA,EAAS,QAAQ,UAAY,GAC7BF,EAAgBQ,EAAO,KAAK,EACzB,KAAKJ,GAAY,CAChBF,EAAS,OAAO,UAAU,IAAI,iBAAiB,EAC/C,QAAQ,IAAIE,EAAS,IAAI,EACzBF,EAAS,QAAQ,UAAYO,EAAiBL,EAAS,IAAI,CACjE,CAAK,EACA,MAAM,IAAM,CACXF,EAAS,OAAO,UAAU,IAAI,iBAAiB,EAC/CI,EAAS,KAAK,CACZ,aAAc,UACd,gBAAiB,UACjB,YAAa,OACb,SAAU,aACV,YAAa,GACb,cAAe,GACf,aAAc,SACd,cAAe,UACf,QAAS,IACT,YAAa,GACb,QAAS,wDACjB,CAAO,CACP,CAAK,CACL,CAEA,SAASD,EAAmBK,EAAQ,CAClC,MAAO,4DAA4D,OACjEA,EACG,IAAIC,GACI,kBAAkBA,EAAM,OAAOA,EAAM,eAC7C,EACA,KAAK,EAAE,CACd,CACA,CAEA,SAASF,EAAiBG,EAAM,CAC9B,MAAMD,EAAQC,EAAK,GAAG,OAAO,GACvBC,EAAWD,EAAK,GACtB,MAAO;AAAA,kBACSC,EAAS,aAAaF,EAAM,4BACzCE,EAAS,OAAS,IAAOA,EAAS;AAAA;AAAA,YAG3BF,EAAM;AAAA,WACPA,EAAM;AAAA,+BACcA,EAAM;AAAA,aAErC"}